# ะกะธััะตะผะฐ ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ะฟะพัะตัะตะฝะธั ะฟัะพัะธะปะตะน ะฏะฝะดะตะบั ะะฐัั

## ๐ ะะฑะทะพั ัะธััะตะผั

ะะพะผะฟะปะตะบัะฝะพะต ัะตัะตะฝะธะต ะดะปั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ะฟะพัะตัะตะฝะธั ะฟัะพัะธะปะตะน ะฝะฐ ะฏะฝะดะตะบั ะะฐััะฐั ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ะฑัะฐัะทะตัะฝัั ะฟัะพัะธะปะตะน, ะฟัะพะบัะธ, ะฐะฝัะธะบะฐะฟัะธ ะธ ะฒะตะฑ-ะธะฝัะตััะตะนัะฐ ัะฟัะฐะฒะปะตะฝะธั.

## ๐ ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั

1. **ะกะพะทะดะฐะฝะธะต ะฟัะพัะธะปะตะน ะฑัะฐัะทะตัะฐ** ั ัะผัะปััะธะตะน ัะฐะทะฝัั ะพัะฟะตัะฐัะบะพะฒ
2. **ะัะพะณัะตะฒ ะฟัะพัะธะปะตะน** ัะตัะตะท ะฟะพัะตัะตะฝะธะต ัะฐะทะปะธัะฝัั ัะฐะนัะพะฒ
3. **ะะฒัะพะผะฐัะธะทะฐัะธั ะฟะพัะตัะตะฝะธั** ัะตะปะตะฒัั ะฟัะพัะธะปะตะน ะฝะฐ ะฏะฝะดะตะบั ะะฐััะฐั
4. **ะะฝัะตะณัะฐัะธั ะฟัะพะบัะธ ะธ ะฐะฝัะธะบะฐะฟัะธ** ะดะปั ะพะฑัะพะดะฐ ะฑะปะพะบะธัะพะฒะพะบ
5. **ะะตะฑ-ะธะฝัะตััะตะนั** ะดะปั ะฝะฐัััะพะนะบะธ ะธ ะผะพะฝะธัะพัะธะฝะณะฐ

## ๐ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### Backend
- **Python 3.9+** - ะพัะฝะพะฒะฝะพะน ัะทัะบ ัะฐะทัะฐะฑะพัะบะธ
- **FastAPI** - ะฒะตะฑ-ััะตะนะผะฒะพัะบ ะดะปั REST API
- **SQLAlchemy + SQLite/PostgreSQL** - ORM ะธ ะฑะฐะทะฐ ะดะฐะฝะฝัั
- **Celery + Redis** - ะพัะตัะตะดั ัะพะฝะพะฒัั ะทะฐะดะฐั
- **undetected-chromedriver** - ะฑัะฐัะทะตัะฝะฐั ะฐะฒัะพะผะฐัะธะทะฐัะธั ั ะพะฑัะพะดะพะผ ะดะตัะตะบัะธะธ
- **Selenium WebDriver** - ัะฟัะฐะฒะปะตะฝะธะต ะฑัะฐัะทะตัะพะผ
- **fake-useragent** - ะณะตะฝะตัะฐัะธั user-agents
- **requests** - HTTP ะบะปะธะตะฝั ะดะปั ัะฐะฑะพัั ั API

### Frontend
- **HTML5/CSS3/JavaScript** - ะฒะตะฑ-ะธะฝัะตััะตะนั
- **Bootstrap 5** - CSS ััะตะนะผะฒะพัะบ
- **Chart.js** - ะณัะฐัะธะบะธ ะธ ััะฐัะธััะธะบะฐ
- **WebSockets** - ะพะฑะฝะพะฒะปะตะฝะธั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ

### ะะฝะตัะฝะธะต ัะตัะฒะธัั
- **Redis** - ะบััะธัะพะฒะฐะฝะธะต ะธ ะพัะตัะตะดั ะทะฐะดะฐั
- **2captcha/anti-captcha API** - ัะตัะตะฝะธะต ะบะฐะฟั
- **ะัะพะบัะธ ะฟัะพะฒะฐะนะดะตัั** - ัะพัะฐัะธั IP ะฐะดัะตัะพะฒ

## ๐ ะััะธัะตะบัััะฐ ัะธััะตะผั

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Web Interface โโโโโถโ   FastAPI API   โโโโโถโ   Task Queue    โ
โ    (Frontend)   โ    โ   (Backend)     โ    โ    (Celery)     โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                              โ                        โ
                              โผ                        โผ
                       โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                       โ    Database     โ    โ Browser Engines โ
                       โ (SQLite/Postgres)โ    โ  (Chrome/FF)    โ
                       โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                              โ                        โ
                              โผ                        โผ
                       โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                       โ  Profile Store  โ    โ  Proxy Manager  โ
                       โ   & Settings    โ    โ & Anti-Captcha  โ
                       โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
โโโ app/                     # ะัะฝะพะฒะฝะพะต ะฟัะธะปะพะถะตะฝะธะต
โ   โโโ __init__.py
โ   โโโ main.py              # FastAPI ะฟัะธะปะพะถะตะฝะธะต
โ   โโโ config.py            # ะะพะฝัะธะณััะฐัะธั
โ   โโโ database.py          # ะะพะดะบะปััะตะฝะธะต ะบ ะะ
โ   โโโ models/              # SQLAlchemy ะผะพะดะตะปะธ
โ       โโโ browser_profile.py
โ       โโโ proxy.py
โ       โโโ task.py
โ       โโโ user_settings.py
โโโ core/                    # ะัะฝะพะฒะฝะฐั ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ browser_manager.py   # ะฃะฟัะฐะฒะปะตะฝะธะต ะฑัะฐัะทะตัะฐะผะธ
โ   โโโ profile_generator.py # ะะตะฝะตัะฐัะธั ะฟัะพัะธะปะตะน
โ   โโโ proxy_manager.py     # ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะพะบัะธ
โ   โโโ captcha_solver.py    # ะะตัะตะฝะธะต ะบะฐะฟั
โโโ tasks/                   # ะคะพะฝะพะฒัะต ะทะฐะดะฐัะธ
โ   โโโ celery_app.py        # Celery ะบะพะฝัะธะณััะฐัะธั
โ   โโโ warmup.py            # ะัะพะณัะตะฒ ะฟัะพัะธะปะตะน
โ   โโโ yandex_maps.py       # ะะฐะฑะพัะฐ ั ะฏะฝะดะตะบั ะะฐััะฐะผะธ
โโโ web/                     # ะะตะฑ-ะธะฝัะตััะตะนั
โ   โโโ static/              # CSS, JS, ะธะทะพะฑัะฐะถะตะฝะธั
โ   โโโ templates/           # HTML ัะฐะฑะปะพะฝั
โ   โโโ routes.py            # API ะผะฐัััััั
โโโ requirements.txt         # Python ะทะฐะฒะธัะธะผะพััะธ
โโโ docker-compose.yml       # Docker ะบะพะฝัะธะณััะฐัะธั
โโโ README.md               # ะญัะพั ัะฐะนะป
```

## โ ะกัะฐััั ัะตะฐะปะธะทะฐัะธะธ

### ะญัะฐะฟ 1: ะะฐะทะพะฒะฐั ะธะฝััะฐััััะบัััะฐ โ
- โ ะะฐัััะพะนะบะฐ ััััะบัััั ะฟัะพะตะบัะฐ
- โ ะกะพะทะดะฐะฝะธะต SQLAlchemy ะผะพะดะตะปะตะน
- โ FastAPI ะฟัะธะปะพะถะตะฝะธะต ั REST API
- โ ะะพะดะบะปััะตะฝะธะต ะบ ะฑะฐะทะต ะดะฐะฝะฝัั

### ะญัะฐะฟ 2: ะกะธััะตะผะฐ ะฟัะพัะธะปะตะน ะฑัะฐัะทะตัะฐ โ
- โ ะะตะฝะตัะฐัะพั ะฟัะพัะธะปะตะน ั fingerprinting
- โ ะะตะฝะตะดะถะตั ะฑัะฐัะทะตัะพะฒ ั undetected-chromedriver
- โ ะญะผัะปััะธั ัะตะปะพะฒะตัะตัะบะพะณะพ ะฟะพะฒะตะดะตะฝะธั

### ะญัะฐะฟ 3: ะัะพะบัะธ ะธ ะฐะฝัะธะบะฐะฟัะฐ โ
- โ ะะตะฝะตะดะถะตั ะฟัะพะบัะธ ัะตัะฒะตัะพะฒ ั health checks
- โ ะะฝัะตะณัะฐัะธั ั 2captcha ะธ anti-captcha
- โ ะะฒัะพะผะฐัะธัะตัะบะฐั ัะพัะฐัะธั ะฟัะพะบัะธ

### ะญัะฐะฟ 4: ะัะพะณัะตะฒ ะฟัะพัะธะปะตะน โ
- โ ะกััะฐัะตะณะธะธ ะฟะพัะตัะตะฝะธั ะฟะพะฟัะปััะฝัั ัะฐะนัะพะฒ
- โ ะะผะธัะฐัะธั ะตััะตััะฒะตะฝะฝะพะณะพ ะฟะพะฒะตะดะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั
- โ ะกะธััะตะผะฐ ะผะพะฝะธัะพัะธะฝะณะฐ ัะพััะพัะฝะธั ะฟัะพัะธะปะตะน

### ะญัะฐะฟ 5: ะะฐะฑะพัะฐ ั ะฏะฝะดะตะบั ะะฐััะฐะผะธ โ
- โ ะะฐััะธะฝะณ ัััะปะพะบ ะฟัะพัะธะปะตะน ะพัะณะฐะฝะธะทะฐัะธะน
- โ ะะฒัะพะผะฐัะธะทะฐัะธั ะดะตะนััะฒะธะน ะฝะฐ ัััะฐะฝะธัะต
- โ ะะฑัะพะด ะทะฐัะธัะฝัั ะผะตัะฐะฝะธะทะผะพะฒ ะธ ะบะฐะฟั

### ะญัะฐะฟ 6: ะะตะฑ-ะธะฝัะตััะตะนั โ
- โ Bootstrap 5 ะฟะฐะฝะตะปั ัะฟัะฐะฒะปะตะฝะธั
- โ ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะพัะธะปัะผะธ ะธ ะฟัะพะบัะธ
- โ ะะพะฝะธัะพัะธะฝะณ ะทะฐะดะฐั ะธ ััะฐัะธััะธะบะฐ

### ะญัะฐะฟ 7: ะคะพะฝะพะฒัะต ะทะฐะดะฐัะธ โ
- โ Celery ะฒะพัะบะตัั ั Redis
- โ ะัะตัะตะดั ะทะฐะดะฐั ั ะฟัะธะพัะธัะตัะฐะผะธ
- โ ะกะธััะตะผะฐ ัะฒะตะดะพะผะปะตะฝะธะน ัะตัะตะท WebSocket

### ะญัะฐะฟ 8: ะะฐะทะฒะตัััะฒะฐะฝะธะต โ
- โ Docker ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั
- โ Docker Compose ะดะปั ะฟะพะปะฝะพะณะพ ััะตะบะฐ
- โ ะะพะฝะธัะพัะธะฝะณ (Prometheus + Grafana)

## ๐ฏ ะะปััะตะฒัะต ะบะพะผะฟะพะฝะตะฝัั

### ะะตะฝะตัะฐัะพั ะฟัะพัะธะปะตะน
```python
class ProfileGenerator:
    def generate_profile(self):
        return {
            'user_agent': fake_useragent.random,
            'viewport': random_viewport(),
            'timezone': random_timezone(),
            'language': random_language(),
            'webrtc_leak': False,
            'canvas_fingerprint': generate_canvas(),
            'webgl_fingerprint': generate_webgl()
        }
```

### ะะตะฝะตะดะถะตั ะฑัะฐัะทะตัะพะฒ
```python
class BrowserManager:
    def create_session(self, profile_id):
        # ะกะพะทะดะฐะฝะธะต Chrome ั ะฟัะพัะธะปะตะผ
        # ะะฐัััะพะนะบะฐ ะฟัะพะบัะธ
        # ะัะธะผะตะฝะตะฝะธะต ะพัะฟะตัะฐัะบะพะฒ

    def warmup_profile(self, profile_id, sites_list):
        # ะะพัะตัะตะฝะธะต ัะฐะนัะพะฒ ะดะปั ะฟัะพะณัะตะฒะฐ

    def visit_yandex_profile(self, profile_id, yandex_url):
        # ะะพัะตัะตะฝะธะต ัะตะปะตะฒะพะณะพ ะฟัะพัะธะปั
```

### ะกััะฐัะตะณะธั ะฟัะพะณัะตะฒะฐ
```python
WARMUP_SITES = [
    'https://google.com',
    'https://youtube.com',
    'https://facebook.com',
    'https://vk.com',
    'https://mail.ru'
]

class WarmupStrategy:
    def execute_warmup(self, profile, duration_minutes=30):
        # ะกะปััะฐะนะฝะพะต ะฟะพัะตัะตะฝะธะต ัะฐะนัะพะฒ
        # ะะผะธัะฐัะธั ัะตะปะพะฒะตัะตัะบะพะณะพ ะฟะพะฒะตะดะตะฝะธั
```

## ๐ ะะตะฑ-ะธะฝัะตััะตะนั

### ะะปะฐะฒะฝะฐั ะฟะฐะฝะตะปั
- ะกัะฐัะธััะธะบะฐ ะฐะบัะธะฒะฝัั ะฟัะพัะธะปะตะน
- ะะพะปะธัะตััะฒะพ ะฒัะฟะพะปะฝะตะฝะฝัั ะทะฐะดะฐั
- ะัะพัะตะฝั ััะฟะตัะฝัั ะฟะพัะตัะตะฝะธะน
- ะัะฐัะธะบะธ ะฐะบัะธะฒะฝะพััะธ

### ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะพัะธะปัะผะธ
- ะกะพะทะดะฐะฝะธะต ะธ ะฝะฐัััะพะนะบะฐ ะฟัะพัะธะปะตะน
- ะัะพัะผะพัั ััะฐัััะฐ ะฟัะพะณัะตะฒะฐ
- ะญะบัะฟะพัั/ะธะผะฟะพัั ะฝะฐัััะพะตะบ

### ะะฐัััะพะนะบะฐ ะฟัะพะบัะธ
- ะะพะฑะฐะฒะปะตะฝะธะต ะฟัะพะบัะธ ัะตัะฒะตัะพะฒ
- ะขะตััะธัะพะฒะฐะฝะธะต ัะพะตะดะธะฝะตะฝะธั
- ะกัะฐัะธััะธะบะฐ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะฃะฟัะฐะฒะปะตะฝะธะต ะทะฐะดะฐัะฐะผะธ
- ะะพะฑะฐะฒะปะตะฝะธะต ัััะปะพะบ ะฏะฝะดะตะบั ะะฐัั
- ะะฐัััะพะนะบะฐ ัะฐัะฟะธัะฐะฝะธั
- ะะพะฝะธัะพัะธะฝะณ ะฒัะฟะพะปะฝะตะฝะธั
- ะัะพัะผะพัั ะปะพะณะพะฒ

## ๐ ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### ะกะธััะตะผะฝัะต ััะตะฑะพะฒะฐะฝะธั
- Python 3.9+
- Chrome/Chromium ะฑัะฐัะทะตั
- Redis (ะดะปั ัะพะฝะพะฒัั ะทะฐะดะฐั)
- 4GB+ RAM
- 10GB+ ัะฒะพะฑะพะดะฝะพะณะพ ะผะตััะฐ

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั
```bash
git clone <repository_url>
cd PF
```

### 2. ะะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั
```bash
# ะกะพะทะดะฐะฝะธะต ะฒะธัััะฐะปัะฝะพะณะพ ะพะบััะถะตะฝะธั
python -m venv venv
source venv/bin/activate  # Linux/Mac
# ะธะปะธ
venv\Scripts\activate     # Windows

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
pip install -r requirements.txt

# ะะพะฟะธัะพะฒะฐะฝะธะต ะบะพะฝัะธะณััะฐัะธะธ
cp .env.example .env
```

### 3. ะะฐัััะพะนะบะฐ ะบะพะฝัะธะณััะฐัะธะธ
ะััะตะดะฐะบัะธััะนัะต ัะฐะนะป `.env`:
```bash
# ะัะฝะพะฒะฝัะต ะฝะฐัััะพะนะบะธ
YANDEX_BOT_DEBUG=true
YANDEX_BOT_BROWSER_HEADLESS=false

# API ะบะปัั ะดะปั ะฐะฝัะธะบะฐะฟัะธ (ะพะฑัะทะฐัะตะปัะฝะพ!)
YANDEX_BOT_ANTICAPTCHA_API_KEY=your_api_key_here

# ะะฐะทะฐ ะดะฐะฝะฝัั (SQLite ะฟะพ ัะผะพะปัะฐะฝะธั)
YANDEX_BOT_DATABASE_URL=sqlite:///./yandex_maps_bot.db
```

### 4. ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ

#### ะะฐัะธะฐะฝั A: ะััะฝะพะน ะทะฐะฟััะบ ะบะพะผะฟะพะฝะตะฝัะพะฒ
```bash
# ะขะตัะผะธะฝะฐะป 1: ะะฐะฟััะบ Redis
redis-server

# ะขะตัะผะธะฝะฐะป 2: ะะฐะฟััะบ ะฑะฐะทั ะดะฐะฝะฝัั (ัะพะทะดะฐะฝะธะต ัะฐะฑะปะธั)
python -c "from app.database import create_tables; create_tables()"

# ะขะตัะผะธะฝะฐะป 3: ะะฐะฟััะบ Celery ะฒะพัะบะตัะฐ
celery -A tasks.celery_app worker --loglevel=info

# ะขะตัะผะธะฝะฐะป 4: ะะฐะฟััะบ Celery Beat (ะฟะปะฐะฝะธัะพะฒัะธะบ)
celery -A tasks.celery_app beat --loglevel=info

# ะขะตัะผะธะฝะฐะป 5: ะะฐะฟััะบ ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธั
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

#### ะะฐัะธะฐะฝั B: Docker Compose (ัะตะบะพะผะตะฝะดัะตััั)
```bash
# ะะฐะฟััะบ ะฒัะตะน ัะธััะตะผั ะพะดะฝะพะน ะบะพะผะฐะฝะดะพะน
docker-compose up --build

# ะะปะธ ะฒ ัะพะฝะพะฒะพะผ ัะตะถะธะผะต
docker-compose up -d --build

# ะัะพัะผะพัั ะปะพะณะพะฒ
docker-compose logs -f

# ะััะฐะฝะพะฒะบะฐ ะฒัะตั ัะตัะฒะธัะพะฒ
docker-compose down
```

### 5. ะะพัััะฟ ะบ ะธะฝัะตััะตะนัะฐะผ
- **ะะตะฑ-ะธะฝัะตััะตะนั**: http://localhost:8000
- **API ะดะพะบัะผะตะฝัะฐัะธั**: http://localhost:8000/docs
- **Celery ะผะพะฝะธัะพัะธะฝะณ (Flower)**: http://localhost:5555
- **Grafana (ะผะพะฝะธัะพัะธะฝะณ)**: http://localhost:3000 (admin/admin123)
- **Prometheus**: http://localhost:9090

### 6. ะะตัะฒะพะฝะฐัะฐะปัะฝะฐั ะฝะฐัััะพะนะบะฐ

#### 6.1 ะะพะฑะฐะฒะปะตะฝะธะต ะฟัะพะบัะธ ัะตัะฒะตัะพะฒ
```bash
# ะงะตัะตะท ะฒะตะฑ-ะธะฝัะตััะตะนั: http://localhost:8000/proxies
# ะะปะธ ัะตัะตะท API:
curl -X POST http://localhost:8000/api/proxies \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Proxy 1",
    "host": "proxy.example.com",
    "port": 8080,
    "username": "user",
    "password": "pass",
    "proxy_type": "http"
  }'
```

#### 6.2 ะกะพะทะดะฐะฝะธะต ะฟัะพัะธะปะตะน ะฑัะฐัะทะตัะฐ
```bash
# ะงะตัะตะท ะฒะตะฑ-ะธะฝัะตััะตะนั: http://localhost:8000/profiles
# ะะปะธ ัะตัะตะท API:
curl -X POST http://localhost:8000/api/profiles \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Profile 1",
    "viewport_width": 1366,
    "viewport_height": 768,
    "timezone": "Europe/Moscow",
    "language": "ru-RU"
  }'
```

#### 6.3 ะัะพะณัะตะฒ ะฟัะพัะธะปะตะน
```bash
# ะะฐะฟััะบ ะฟัะพะณัะตะฒะฐ ัะตัะตะท API:
curl -X POST http://localhost:8000/api/profiles/1/start-warmup
```

### 7. ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะธััะตะผั

#### 7.1 ะะฐะทะพะฒัะน workflow
1. **ะกะพะทะดะฐะนัะต ะฟัะพัะธะปะธ ะฑัะฐัะทะตัะฐ** ะฒ ะฒะตะฑ-ะธะฝัะตััะตะนัะต
2. **ะะพะฑะฐะฒััะต ะฟัะพะบัะธ ัะตัะฒะตัั** ะดะปั ัะพัะฐัะธะธ IP
3. **ะะฐะฟัััะธัะต ะฟัะพะณัะตะฒ ะฟัะพัะธะปะตะน** (ะผะธะฝะธะผัะผ 30 ะผะธะฝัั)
4. **ะะพะฑะฐะฒััะต ัััะปะบะธ ะฝะฐ ะฟัะพัะธะปะธ ะฏะฝะดะตะบั ะะฐัั**
5. **ะะฐะฟัััะธัะต ะทะฐะดะฐัะธ ะฟะพัะตัะตะฝะธั**

#### 7.2 ะะพัะตัะตะฝะธะต ะฟัะพัะธะปะตะน ะฏะฝะดะตะบั ะะฐัั
```bash
# ะงะตัะตะท API:
curl -X POST http://localhost:8000/api/tasks/yandex-visit \
  -H "Content-Type: application/json" \
  -d '{
    "profile_id": 1,
    "target_url": "https://yandex.ru/maps/org/example/123456789/"
  }'
```

#### 7.3 ะะพะฝะธัะพัะธะฝะณ ะทะฐะดะฐั
```bash
# ะะพะปััะตะฝะธะต ัะฟะธัะบะฐ ะทะฐะดะฐั:
curl http://localhost:8000/api/tasks

# ะกัะฐัะธััะธะบะฐ ัะธััะตะผั:
curl http://localhost:8000/api/dashboard/stats
```

## โก ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

- **ะะฝะพะณะพะฟัะพัะธะปัะฝะพััั**: ะฃะฟัะฐะฒะปะตะฝะธะต ะผะฝะพะถะตััะฒะพะผ ะฑัะฐัะทะตัะฝัั ะฟัะพัะธะปะตะน
- **ะฃะผะฝัะน ะฟัะพะณัะตะฒ**: ะะฒัะพะผะฐัะธัะตัะบะพะต ะฟะพัะตัะตะฝะธะต ัะฐะนัะพะฒ ะดะปั ัะพะทะดะฐะฝะธั ะธััะพัะธะธ
- **ะะฐัะธัะฐ ะพั ะฑะปะพะบะธัะพะฒะพะบ**: ะะพัะฐัะธั ะฟัะพะบัะธ, ัะตัะตะฝะธะต ะบะฐะฟั, ัะผัะปััะธั ะฟะพะฒะตะดะตะฝะธั
- **ะะฐัััะฐะฑะธััะตะผะพััั**: ะคะพะฝะพะฒัะต ะทะฐะดะฐัะธ ัะตัะตะท Celery
- **ะะพะฝะธัะพัะธะฝะณ**: ะะตะฑ-ะธะฝัะตััะตะนั ั real-time ะพะฑะฝะพะฒะปะตะฝะธัะผะธ
- **ะะธะฑะบะพััั**: ะะฐัััะฐะธะฒะฐะตะผัะต ัััะฐัะตะณะธะธ ะธ ัะฐัะฟะธัะฐะฝะธั

## โ๏ธ ะะฐะถะฝัะต ะฟัะตะดัะฟัะตะถะดะตะฝะธั

- ะกะพะฑะปัะดะตะฝะธะต robots.txt ะธ ััะปะพะฒะธะน ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฏะฝะดะตะบั
- ะะฐะทัะผะฝัะต ะธะฝัะตัะฒะฐะปั ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ (5-30 ัะตะบัะฝะด)
- ะะฐะบัะธะผัะผ 100 ะฟะพัะตัะตะฝะธะน ะฒ ะดะตะฝั ั ะพะดะฝะพะณะพ IP
- ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะพะปัะบะพ ะดะปั ะปะตะณะธัะธะผะฝัั ะฑะธะทะฝะตั-ัะตะปะตะน
- ะะพะฝะธัะพัะธะฝะณ ะฑะปะพะบะธัะพะฒะพะบ ะธ ะฒัะตะผะตะฝะฝัะต ะฟะฐัะทั ะฟัะธ ะพะฑะฝะฐััะถะตะฝะธะธ

## ๐ ะะปะฐะฝะธััะตะผะฐั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

- **MVP ะฒะตััะธั**: 7-10 ะดะฝะตะน ัะฐะทัะฐะฑะพัะบะธ
- **ะะพะปะฝะฐั ะฒะตััะธั**: 15-20 ะดะฝะตะน
- **ะะพะดะดะตัะถะบะฐ**: 50+ ะพะดะฝะพะฒัะตะผะตะฝะฝัั ะฟัะพัะธะปะตะน
- **ะกะบะพัะพััั**: 100+ ะฟะพัะตัะตะฝะธะน ะฒ ัะฐั
- **ะฃัะฟะตัะฝะพััั**: 95%+ ะฟัะพัะพะถะดะตะฝะธั ะทะฐัะธั

## ๐ ะะตะทะพะฟะฐัะฝะพััั

ะกะธััะตะผะฐ ะฒะบะปััะฐะตั ะผะตัะฐะฝะธะทะผั ะดะปั ะฑะตะทะพะฟะฐัะฝะพะน ะธ ะปะตะณะฐะปัะฝะพะน ะฐะฒัะพะผะฐัะธะทะฐัะธะธ:
- ะกะพะฑะปัะดะตะฝะธะต rate limits
- ะฃะฒะฐะถะตะฝะธะต ะบ robots.txt
- ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะพะปัะบะพ ะฟัะฑะปะธัะฝัั ะดะฐะฝะฝัั
- ะญะผัะปััะธั ะตััะตััะฒะตะฝะฝะพะณะพ ะฟะพะฒะตะดะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั

## ๐ง ะะพะฝัะธะณััะฐัะธั ะธ ะฝะฐัััะพะนะบะฐ

### ะัะฝะพะฒะฝัะต ะฝะฐัััะพะนะบะธ ะฒ .env ัะฐะนะปะต

#### ะะฝัะธะบะฐะฟัะฐ ัะตัะฒะธัั
```bash
# 2captcha.com
YANDEX_BOT_ANTICAPTCHA_SERVICE=2captcha
YANDEX_BOT_ANTICAPTCHA_API_KEY=your_2captcha_key

# anti-captcha.com
YANDEX_BOT_ANTICAPTCHA_SERVICE=anticaptcha
YANDEX_BOT_ANTICAPTCHA_API_KEY=your_anticaptcha_key
```

#### ะะฐัััะพะนะบะธ ะฑัะฐัะทะตัะฐ
```bash
# Headless ัะตะถะธะผ (ะฑะตะท GUI)
YANDEX_BOT_BROWSER_HEADLESS=true

# ะะฐะบัะธะผัะผ ะพะดะฝะพะฒัะตะผะตะฝะฝัั ะฑัะฐัะทะตัะพะฒ
YANDEX_BOT_MAX_BROWSER_INSTANCES=5

# ะขะฐะนะผะฐััั
YANDEX_BOT_BROWSER_TIMEOUT=30
```

#### ะะฐัััะพะนะบะธ ะฟัะพะณัะตะฒะฐ
```bash
# ะะปะธัะตะปัะฝะพััั ะฟัะพะณัะตะฒะฐ (ะผะธะฝััั)
YANDEX_BOT_WARMUP_DURATION_MINUTES=30

# ะัะตะผั ะฝะฐ ัััะฐะฝะธัะต (ัะตะบัะฝะดั)
YANDEX_BOT_WARMUP_MIN_PAGE_TIME=30
YANDEX_BOT_WARMUP_MAX_PAGE_TIME=300
```

#### ะะฐัััะพะนะบะธ ะฏะฝะดะตะบั ะะฐัั
```bash
# ะัะตะผั ะฟะพัะตัะตะฝะธั ะฟัะพัะธะปั (ัะตะบัะฝะดั)
YANDEX_BOT_YANDEX_MIN_VISIT_TIME=120
YANDEX_BOT_YANDEX_MAX_VISIT_TIME=600

# ะะฐะดะตัะถะบะธ ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ
YANDEX_BOT_MIN_REQUEST_DELAY=5
YANDEX_BOT_MAX_REQUEST_DELAY=30
```

## ๐ฏ ะะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะะตะทะพะฟะฐัะฝะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต
1. **ะฃะผะตัะตะฝะฝะพััั**: ะะต ะฑะพะปะตะต 100 ะฟะพัะตัะตะฝะธะน ะฒ ะดะตะฝั ั ะพะดะฝะพะณะพ IP
2. **ะะพัะฐัะธั**: ะัะฟะพะปัะทัะนัะต ัะฐะทะฝัะต ะฟัะพะบัะธ ะธ ะฟัะพัะธะปะธ
3. **ะะฐะดะตัะถะบะธ**: ะกะพะฑะปัะดะฐะนัะต ะธะฝัะตัะฒะฐะปั ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ
4. **ะัะพะณัะตะฒ**: ะะฑัะทะฐัะตะปัะฝะพ ะฟัะพะณัะตะฒะฐะนัะต ะฟัะพัะธะปะธ ะฟะตัะตะด ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ

### ะะฟัะธะผะธะทะฐัะธั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ
1. **ะัะพะบัะธ**: ะัะฟะพะปัะทัะนัะต ะฑัััััะต ะธ ััะฐะฑะธะปัะฝัะต ะฟัะพะบัะธ ัะตัะฒะตัั
2. **Headless ัะตะถะธะผ**: ะะบะปััะธัะต ะดะปั ัะบะพะฝะพะผะธะธ ัะตััััะพะฒ ะฒ ะฟัะพะดะฐะบัะฝ
3. **ะะพะฝะธัะพัะธะฝะณ**: ะกะปะตะดะธัะต ะทะฐ ะปะพะณะฐะผะธ ะธ ะผะตััะธะบะฐะผะธ
4. **ะะฐัััะฐะฑะธัะพะฒะฐะฝะธะต**: ะะพะฑะฐะฒะปัะนัะต Celery ะฒะพัะบะตัั ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ

### ะขะธะฟะธัะฝัะต ะฟัะพะฑะปะตะผั ะธ ัะตัะตะฝะธั

#### "Profile not ready for tasks"
**ะัะพะฑะปะตะผะฐ**: ะัะพัะธะปั ะฝะต ะฟัะพัะตะป ะฟัะพะณัะตะฒ
**ะะตัะตะฝะธะต**:
```bash
# ะัะพะฒะตัะธัั ััะฐััั ะฟัะพัะธะปั
curl http://localhost:8000/api/profiles/1

# ะะฐะฟัััะธัั ะฟัะพะณัะตะฒ
curl -X POST http://localhost:8000/api/profiles/1/start-warmup
```

#### "No available proxies"
**ะัะพะฑะปะตะผะฐ**: ะัะต ะฟัะพะบัะธ ะฝะตะดะพัััะฟะฝั ะธะปะธ ะทะฐะฑะปะพะบะธัะพะฒะฐะฝั
**ะะตัะตะฝะธะต**:
```bash
# ะัะพะฒะตัะธัั ััะฐััั ะฟัะพะบัะธ
curl http://localhost:8000/api/proxies/stats

# ะะพะฑะฐะฒะธัั ะฝะพะฒัะต ะฟัะพะบัะธ
curl -X POST http://localhost:8000/api/proxies -d '{"host":"...", "port":...}'
```

#### "Captcha detection timeout"
**ะัะพะฑะปะตะผะฐ**: ะะต ัะดะฐะตััั ัะตัะธัั ะบะฐะฟัั
**ะะตัะตะฝะธะต**:
- ะัะพะฒะตัััะต ะฑะฐะปะฐะฝั ะฐะฝัะธะบะฐะฟัะฐ ัะตัะฒะธัะฐ
- ะฃะฑะตะดะธัะตัั ะฒ ะฟัะฐะฒะธะปัะฝะพััะธ API ะบะปััะฐ
- ะะพะฟัะพะฑัะนัะต ะดััะณะพะน ัะตัะฒะธั (2captcha โ anti-captcha)

#### "Browser session failed to start"
**ะัะพะฑะปะตะผะฐ**: ะะต ัะดะฐะตััั ะทะฐะฟัััะธัั ะฑัะฐัะทะตั
**ะะตัะตะฝะธะต**:
- ะัะพะฒะตัััะต ัััะฐะฝะพะฒะบั Chrome/Chromium
- ะฃะฑะตะดะธัะตัั ะฒ ะฝะฐะปะธัะธะธ ะฟัะฐะฒ ะดะพัััะฟะฐ
- ะ Docker: ะฟัะพะฒะตัััะต ะฟะตัะตะผะตะฝะฝัั `--no-sandbox`

## ๐ API ะดะพะบัะผะตะฝัะฐัะธั

### ะัะฝะพะฒะฝัะต ัะฝะดะฟะพะธะฝัั

#### ะัะพัะธะปะธ ะฑัะฐัะทะตัะฐ
- `GET /api/profiles` - ัะฟะธัะพะบ ะฟัะพัะธะปะตะน
- `POST /api/profiles` - ัะพะทะดะฐะฝะธะต ะฟัะพัะธะปั
- `GET /api/profiles/{id}` - ะธะฝัะพัะผะฐัะธั ะพ ะฟัะพัะธะปะต
- `POST /api/profiles/{id}/start-warmup` - ะทะฐะฟััะบ ะฟัะพะณัะตะฒะฐ

#### ะัะพะบัะธ ัะตัะฒะตัั
- `GET /api/proxies` - ัะฟะธัะพะบ ะฟัะพะบัะธ
- `POST /api/proxies` - ะดะพะฑะฐะฒะปะตะฝะธะต ะฟัะพะบัะธ
- `POST /api/proxies/{id}/test` - ัะตััะธัะพะฒะฐะฝะธะต ะฟัะพะบัะธ

#### ะะฐะดะฐัะธ
- `GET /api/tasks` - ัะฟะธัะพะบ ะทะฐะดะฐั
- `POST /api/tasks/warmup` - ัะพะทะดะฐะฝะธะต ะทะฐะดะฐัะธ ะฟัะพะณัะตะฒะฐ
- `POST /api/tasks/yandex-visit` - ัะพะทะดะฐะฝะธะต ะทะฐะดะฐัะธ ะฟะพัะตัะตะฝะธั

#### ะะพะฝะธัะพัะธะฝะณ
- `GET /api/dashboard/stats` - ะพะฑัะฐั ััะฐัะธััะธะบะฐ
- `GET /health` - ะฟัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ
- `GET /api/system/info` - ะธะฝัะพัะผะฐัะธั ะพ ัะธััะตะผะต

### ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั API

#### ะะพะปะฝัะน ัะธะบะป ัะฐะฑะพัั ั ะฟัะพัะธะปะตะผ
```bash
# 1. ะกะพะทะดะฐะฝะธะต ะฟัะพัะธะปั
PROFILE_ID=$(curl -s -X POST http://localhost:8000/api/profiles \
  -H "Content-Type: application/json" \
  -d '{"name": "TestProfile", "timezone": "Europe/Moscow"}' \
  | jq -r '.id')

# 2. ะัะพะณัะตะฒ ะฟัะพัะธะปั
curl -X POST http://localhost:8000/api/profiles/$PROFILE_ID/start-warmup

# 3. ะะถะธะดะฐะฝะธะต ะทะฐะฒะตััะตะฝะธั ะฟัะพะณัะตะฒะฐ (ะฟัะพะฒะตัะบะฐ ััะฐัััะฐ)
while true; do
  STATUS=$(curl -s http://localhost:8000/api/profiles/$PROFILE_ID | jq -r '.warmup_completed')
  if [ "$STATUS" = "true" ]; then
    echo "ะัะพัะธะปั ะฟัะพะณัะตั!"
    break
  fi
  echo "ะะถะธะดะฐะฝะธะต ะฟัะพะณัะตะฒะฐ..."
  sleep 30
done

# 4. ะะฐะฟััะบ ะฟะพัะตัะตะฝะธั ะฏะฝะดะตะบั ะฟัะพัะธะปั
curl -X POST http://localhost:8000/api/tasks/yandex-visit \
  -H "Content-Type: application/json" \
  -d '{
    "profile_id": '$PROFILE_ID',
    "target_url": "https://yandex.ru/maps/org/example/123456789/"
  }'
```

## ๐ณ Docker ัะฟัะฐะฒะปะตะฝะธะต

### ะะพะปะตะทะฝัะต Docker ะบะพะผะฐะฝะดั
```bash
# ะะตัะตัะฑะพัะบะฐ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
docker-compose build app

# ะัะพัะผะพัั ะปะพะณะพะฒ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
docker-compose logs -f celery_worker

# ะัะพะด ะฒ ะบะพะฝัะตะนะฝะตั ะดะปั ะพัะปะฐะดะบะธ
docker-compose exec app bash

# ะัะธััะบะฐ ะดะฐะฝะฝัั
docker-compose down -v

# ะะพะฝะธัะพัะธะฝะณ ัะตััััะพะฒ
docker stats
```

### ะะฐัััะฐะฑะธัะพะฒะฐะฝะธะต ะฒะพัะบะตัะพะฒ
```bash
# ะฃะฒะตะปะธัะตะฝะธะต ะบะพะปะธัะตััะฒะฐ Celery ะฒะพัะบะตัะพะฒ
docker-compose up --scale celery_worker=3

# ะะปะธ ะฒ docker-compose.yml:
# deploy:
#   replicas: 3
```

## ๐ ะะพะดะดะตัะถะบะฐ ะธ ััััะฐะฝะตะฝะธะต ะฝะตะธัะฟัะฐะฒะฝะพััะตะน

### ะะธะฐะณะฝะพััะธะบะฐ ะฟัะพะฑะปะตะผ
1. **ะัะพะฒะตัััะต ะปะพะณะธ** ะฒ ะฒะตะฑ-ะธะฝัะตััะตะนัะต ะธะปะธ Docker
2. **ะฃะฑะตะดะธัะตัั ะฒ ะดะพัััะฟะฝะพััะธ** Redis ะธ ะฑะฐะทั ะดะฐะฝะฝัั
3. **ะัะพะฒะตัััะต ะฟัะพะบัะธ** ะฝะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััั
4. **ะัะพะฒะตัััะต ะฑะฐะปะฐะฝั** ะฐะฝัะธะบะฐะฟัะฐ ัะตัะฒะธัะฐ
5. **ะะพะฝะธัะพัะธะฝะณ ัะตััััะพะฒ** - CPU, RAM, ะดะธัะบ

### ะะพะณะธ ัะธััะตะผั
```bash
# ะัะพัะผะพัั ะฒัะตั ะปะพะณะพะฒ
docker-compose logs

# ะะพะณะธ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
docker-compose logs app
docker-compose logs celery_worker

# ะกะปะตะดะธัั ะทะฐ ะปะพะณะฐะผะธ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
docker-compose logs -f --tail=100
```

### ะัะธััะบะฐ ะธ ะพะฑัะปัะถะธะฒะฐะฝะธะต
```bash
# ะัะธััะบะฐ ััะฐััั ะทะฐะดะฐั
curl -X POST http://localhost:8000/api/maintenance/cleanup-old-tasks

# ะกะฑัะพั ะทะฐะฑะปะพะบะธัะพะฒะฐะฝะฝัั ะฟัะพะบัะธ
curl -X POST http://localhost:8000/api/maintenance/reset-proxy-bans

# ะะฑะฝะพะฒะปะตะฝะธะต ััะฐัะธััะธะบะธ
curl -X POST http://localhost:8000/api/maintenance/update-stats
```

### ะะพะฝัะฐะบัั
- **ะะพะบัะผะตะฝัะฐัะธั API**: http://localhost:8000/docs
- **ะะพะฝะธัะพัะธะฝะณ ะทะฐะดะฐั**: http://localhost:5555 (Flower)
- **ะะตััะธะบะธ ัะธััะตะผั**: http://localhost:3000 (Grafana)

## ๐ ะะพัะปะตะดะฝะธะต ะพะฑะฝะพะฒะปะตะฝะธั (ะคะตะฒัะฐะปั 2026)

### โ ะัะฟัะฐะฒะปะตะฝะธะต ัะธััะตะผั ะฟัะพะณัะตะฒะฐ ะฟัะพัะธะปะตะน

#### ะัะพะฑะปะตะผั, ะบะพัะพััะต ะฑัะปะธ ัะตัะตะฝั:
- **"WARM all ะพัะดะฐะตั No profiles available for warmup"** - ะธัะฟัะฐะฒะปะตะฝั ะบะพะฝัะปะธะบัั URL ัะพััะธะฝะณะฐ ะฒ FastAPI
- **"ััะฐััั Warmup ะฟะธัะตั Pending ะฟะพัะตะผั ะฝะต ะธะดะตั ะฟัะพะณัะตะฒ"** - ะฒะพัััะฐะฝะพะฒะปะตะฝะฐ ััะฝะบัะธะพะฝะฐะปัะฝะพััั ะฟัะพะณัะตะฒะฐ
- **"ะฝะฐะณัะป ะบัะบ"** - ัะตะฟะตัั cookie ัะพััะฐะฝััััั ะบะพััะตะบัะฝะพ ะฒ browser_profiles

#### ๐ง ะขะตัะฝะธัะตัะบะธะต ะธะทะผะตะฝะตะฝะธั:

##### 1. ะัะฟัะฐะฒะปะตะฝั ะบะพะฝัะปะธะบัั URL ัะพััะธะฝะณะฐ ะฒ FastAPI
```diff
- /api/profiles/overall-progress   โ (ะบะพะฝัะปะธะบั ั {profile_id})
+ /api/profiles-overall-progress   โ (ะธัะฟัะฐะฒะปะตะฝะพ)

- /api/profiles/bulk-create        โ (ะบะพะฝัะปะธะบั ั {profile_id})
+ /api/profiles-bulk-create        โ (ะธัะฟัะฐะฒะปะตะฝะพ)

- /api/profiles/bulk-warmup        โ (ะบะพะฝัะปะธะบั ั {profile_id})
+ /api/profiles-bulk-warmup        โ (ะธัะฟัะฐะฒะปะตะฝะพ)

- /api/profiles/warmup-progress    โ (ะบะพะฝัะปะธะบั ั {profile_id})
+ /api/profiles-warmup-progress    โ (ะธัะฟัะฐะฒะปะตะฝะพ)
```

##### 2. ะะพะฒะฐั ัะธััะตะผะฐ ัะฟัะฐะฒะปะตะฝะธั URL ะดะปั ะฟัะพะณัะตะฒะฐ
```python
# ะกัะฐัะฐั ัะธััะตะผะฐ (hardcoded ัะฐะนัั)
WARMUP_SITES = [
    'https://google.com',
    'https://youtube.com',
    # ... ัะพะปัะบะพ 7 ัะฐะนัะพะฒ
]

# ะะพะฒะฐั ัะธััะตะผะฐ (ะฑะฐะทะฐ ะดะฐะฝะฝัั)
# ๐ ะะผะฟะพััะธัะพะฒะฐะฝะพ 18,081 ัะฝะธะบะฐะปัะฝัั URL ะธะท nagul.txt
# ๐ฏ 3 ัััะฐัะตะณะธะธ ะฒัะฑะพัะฐ: diverse, random, popular
# ๐ ะกัะฐัะธััะธะบะฐ ะธัะฟะพะปัะทะพะฒะฐะฝะธั URL
```

**ะะพะฒัะต ัะฐะนะปั:**
- `core/warmup_url_manager.py` - ะะตะฝะตะดะถะตั URL ั ะฟัะพะดะฒะธะฝัััะผะธ ัััะฐัะตะณะธัะผะธ
- `app/models/warmup_url.py` - ะะพะดะตะปั ะดะปั ััะฐะฝะตะฝะธั URL ะฒ ะะ
- `import_warmup_urls.py` - ะกะบัะธะฟั ะธะผะฟะพััะฐ URL ะธะท nagul.txt

**ะะพะทะผะพะถะฝะพััะธ WarmupUrlManager:**
```python
# ะกะปััะฐะนะฝัะต URL
warmup_url_manager.get_random_urls(count=10, profile_id=1)

# ะะฐะทะฝะพะพะฑัะฐะทะฝัะต URL (ะธะท ัะฐะทะฝัั ะดะพะผะตะฝะพะฒ)
warmup_url_manager.get_diverse_urls(count=10, min_domains=5)

# URL ะฟะพ ะดะพะผะตะฝะฐะผ
warmup_url_manager.get_urls_by_domain(['google.com'], max_per_domain=2)

# ะะพะฟัะปััะฝัะต ะดะพะผะตะฝั
warmup_url_manager.get_popular_domains(limit=50)

# ะกัะฐัะธััะธะบะฐ
warmup_url_manager.get_statistics()
```

##### 3. ะฃััะฐะฝะพะฒะบะฐ ะฝะตะดะพััะฐััะธั ะทะฐะฒะธัะธะผะพััะตะน
```bash
# ะะฐะฝะตะต ะพััััััะฒะพะฒะฐะปะธ:
pip install celery undetected-chromedriver

# Redis (macOS)
brew install redis
brew services start redis
```

##### 4. ะัะฟัะฐะฒะปะตะฝะธั Celery ะธ SQLAlchemy
```python
# ะัะฟัะฐะฒะปะตะฝ DetachedInstanceError
# ะะฐะฝััะต: โ
profile.some_field = value  # ะะฑัะตะบั ัะถะต detached ะพั ัะตััะธะธ

# ะกะตะนัะฐั: โ
with db_session() as db:
    profile = db.query(BrowserProfile).filter(...).first()
    profile.some_field = value
    db.commit()
```

##### 5. ะฃะปัััะตะฝะฝัะน ะฒะตะฑ-ะธะฝัะตััะตะนั

**ะะพะฒะฐั ะบะฝะพะฟะบะฐ "Clear All":**
- ๐ก๏ธ ะขัะพะนะฝะพะต ะฟะพะดัะฒะตัะถะดะตะฝะธะต ะฑะตะทะพะฟะฐัะฝะพััะธ
- ๐ ะะพะบะฐะท ะบะพะปะธัะตััะฒะฐ ัะดะฐะปัะตะผัั ะฟัะพัะธะปะตะน
- ๐๏ธ ะฃะดะฐะปะตะฝะธะต ัะฐะนะปะพะฒ browser_profiles
- โก Real-time ะฟัะพะณัะตัั-ะฑะฐั

**ะัะฟัะฐะฒะปะตะฝะฝัะต API endpoints ะฒ frontend:**
```javascript
// ะะฑะฝะพะฒะปะตะฝั ะฒัะต ัััะปะบะธ ะฒ profiles.html:
fetch('/api/profiles-overall-progress')
fetch('/api/profiles-bulk-warmup', {method: 'POST'})
fetch('/api/profiles-bulk-create', {method: 'POST'})
```

#### ๐ ะะตะทัะปััะฐัั ะธัะฟัะฐะฒะปะตะฝะธะน

**ะะพ ะธัะฟัะฐะฒะปะตะฝะธั:**
- โ "No profiles available for warmup"
- โ ะกัะฐััั ะฟัะพะณัะตะฒะฐ: "Pending"
- โ ะัะพะณัะตะฒ ะฝะต ะทะฐะฟััะบะฐะตััั
- โ Cookie ะฝะต ัะพััะฐะฝััััั
- โ API endpoints ะฒะพะทะฒัะฐัะฐัั 422 ะพัะธะฑะบะธ

**ะะพัะปะต ะธัะฟัะฐะฒะปะตะฝะธั:**
- โ "Bulk warmup started successfully"
- โ ะกัะฐััั ะฟัะพะณัะตะฒะฐ: "In Progress"
- โ Celery ะทะฐะดะฐัะธ ะฒัะฟะพะปะฝััััั: ForkPoolWorker-1 through 4
- โ Cookie ัะพััะฐะฝััััั ะฒ `./browser_profiles/{profile_id}/`
- โ ะัะต API endpoints ัะฐะฑะพัะฐัั ะบะพััะตะบัะฝะพ

#### ๐ ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั ะพะฑะฝะพะฒะปะตะฝะฝัั ัะธััะตะผั

```bash
# 1. ะัะพะฒะตัะธัั ะพะฑัะธะน ะฟัะพะณัะตัั
curl http://127.0.0.1:8000/api/profiles-overall-progress

# 2. ะะฐะฟัััะธัั ะฟัะพะณัะตะฒ ะฒัะตั ะฟัะพัะธะปะตะน
curl -X POST http://127.0.0.1:8000/api/profiles-bulk-warmup

# 3. ะกะพะทะดะฐัั ะผะฝะพะถะตััะฒะตะฝะฝัะต ะฟัะพัะธะปะธ ั ะฐะฒัะพะผะฐัะธัะตัะบะธะผ ะฟัะพะณัะตะฒะพะผ
curl -X POST http://127.0.0.1:8000/api/profiles-bulk-create \
  -H "Content-Type: application/json" \
  -d '{"count": 5, "auto_start_warmup": true}'

# 4. ะัะธััะธัั ะฒัะต ะฟัะพัะธะปะธ
curl -X DELETE http://127.0.0.1:8000/api/profiles-clear-all
```

#### ๐ ะกัะฐัะธััะธะบะฐ URL ะฑะฐะทั ะดะฐะฝะฝัั

```sql
-- ะัะตะณะพ URL ะฒ ะฑะฐะทะต: 18,081
-- ะฃะฝะธะบะฐะปัะฝัั ะดะพะผะตะฝะพะฒ: ~3,000+
-- ะกััะฐัะตะณะธะธ ะฒัะฑะพัะฐ: 3 (diverse, random, popular)
-- Fallback URL: 15 (ะตัะปะธ ะะ ะฝะตะดะพัััะฟะฝะฐ)
```

**ะขะพะฟ ะดะพะผะตะฝั ะฒ ัะธััะตะผะต:**
- google.com, youtube.com, wikipedia.org
- github.com, stackoverflow.com, habr.com
- vk.com, mail.ru, yandex.ru, dzen.ru
- ะ ัััััะธ ะดััะณะธั ะดะปั ัะฐะทะฝะพะพะฑัะฐะทะฝะพะณะพ ะฟัะพะณัะตะฒะฐ

#### ๐ ะะธะฐะณะฝะพััะธะบะฐ ะธ ะผะพะฝะธัะพัะธะฝะณ

**ะัะพะฒะตัะบะฐ ัะฐะฑะพัั ะฟัะพะณัะตะฒะฐ:**
```bash
# ะกัะฐััั Celery ะฒะพัะบะตัะพะฒ
celery -A tasks.celery_app inspect active

# ะะพะณะธ ะฟัะพะณัะตะฒะฐ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
docker-compose logs -f celery_worker

# ะัะพะฒะตัะบะฐ ะฟะฐะฟะพะบ ะฟัะพัะธะปะตะน
ls -la ./browser_profiles/

# ะกัะฐัะธััะธะบะฐ URL
curl http://127.0.0.1:8000/api/warmup-urls/stats
```

**ะะฝะดะธะบะฐัะพัั ััะฟะตัะฝะพะณะพ ะฟัะพะณัะตะฒะฐ:**
- โ `warming_profiles > 0` ะฒ overall-progress
- โ Celery ะปะพะณะธ: "Profile X warmup completed successfully"
- โ ะะฐะฟะบะธ ะฒ `./browser_profiles/profile_X/` ั cookie ัะฐะนะปะฐะผะธ
- โ ะกัะฐััั ะฟัะพัะธะปั: `"warmed"` ะฒะผะตััะพ `"created"`

---

**โ๏ธ ะะะะะ**: ะัะฟะพะปัะทัะนัะต ัะธััะตะผั ะพัะฒะตัััะฒะตะฝะฝะพ, ัะพะฑะปัะดะฐั ะฟัะฐะฒะธะปะฐ ะธ ััะปะพะฒะธั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฏะฝะดะตะบั ะะฐัั. ะะฒัะพะผะฐัะธะทะฐัะธั ะดะพะปะถะฝะฐ ะฒัะฟะพะปะฝััััั ะดะปั ะปะตะณะธัะธะผะฝัั ะฑะธะทะฝะตั-ัะตะปะตะน.